
<!DOCTYPE html>
<html lang="zh-CN">
<head>
 <meta name="viewport" content="width=device-width, initial-scale=1" />
<meta HTTP-EQUIV="pragma" CONTENT="no-cache"> 
<meta HTTP-EQUIV="Cache-Control" CONTENT="no-cache, must-revalidate"> 
<meta HTTP-EQUIV="expires" CONTENT="0"> 
<title>模拟退火小结 | wozaixuexi</title>	

<link rel="stylesheet" href="https://wozaixuexi.github.io/styles/main.css">
<script type="text/javascript">
function getCSS()
{
        datetoday = new Date();
        timenow=datetoday.getTime();
        datetoday.setTime(timenow);
        thehour = datetoday.getHours();

        if (thehour<6:30)

            display = "https://wozaixuexi.github.io/media/css/night.css";

       else if (thehour>18:30)

            display = "https://wozaixuexi.github.io/media/css/night.css";   

        else if (thehour>6:30)
           
            display = "https://wozaixuexi.github.io/media/css/day.css";

        else if (thehour<18:30)

            display = "https://wozaixuexi.github.io/media/css/day.css";
      

var css = '<';
        css+='link rel="stylesheet" href='+display+' \/';
        css+='>';
        document.write(css);
}
</script>
<link href="https://fonts.googleapis.com/css?family=Dancing+Script|Liu+Jian+Mao+Cao&display=swap" rel="stylesheet">
<link href="https://at.alicdn.com/t/font_1306644_jwtuc2zzbrd.css" rel="stylesheet" />
<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.10.0/katex.min.css">
<script type='text/javascript' src='https://wozaixuexi.github.io/media/scripts/script.js'></script>
<link href="https://cdn.bootcss.com/animate.css/3.5.2/animate.min.css" rel="stylesheet" />
  <script src="https://cdn.bootcss.com/wow/1.1.2/wow.min.js"></script>
  <script src="https://cdn.bootcss.com/highlight.js/9.15.8/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script>wow=new WOW({boxClass:'wow',animateClass:'animated',offset:0,mobile:true,live:true});wow.init();</script>

<script type="text/javascript">
window.onload=getCSS();
</script>


 	
</head>
<body class="post-template-default single single-post postid-70 single-format-standard">
    <div id="wrapper">
        
			
		<header id="header" class="site-header" 
		
		>
			<div class="site-branding">
									<h1 class="site-title"><a href="https://wozaixuexi.github.io" rel="home">wozaixuexi</a></h1>
										
					<h2 class="site-description">qwq</h2>
										
							</div>
			<nav id="nav-wrapper">
				<div class="container">
					<div class="nav-toggle">
						<div class="bars">
							<div class="bar"></div>
							<div class="bar"></div>
							<div class="bar"></div>
						</div>
					</div>
					<div class="clear"></div>
					<ul id="" class="dove">
		 
     			
<li>
	 
	<a  href="/"> 首页</a></li>
	
    
     			
<li>
	 
	<a  href="/archives"> 归档</a></li>
	
    
     			
<li>
	 
	<a  href="/tags"> 标签</a></li>
	
    
     			
<li>
	 
	<a  href="/post/about"> 关于</a></li>
	
    

</ul>
</li>		
		
</ul>				</div>
			</nav>
						<div class="jingge">


    

    

    

    

    

    

    

    

    

    

    

    
        </header>

		<div id="content" class="container">
			<div class="row">
	<div class="col-md-8 site-main">
				
<article id="post-70" class="post-70 post type-post status-publish format-standard hentry category-5 tag-10 tag-9 tag-11">

	
	                      
		<div class="entry-content">
			<h1 class="wow swing entry-title">模拟退火小结</h1>
<div class="entry-meta">
<div class="wow bounce">
	<i class="iconfont icon-rili"> <time class="lately-a" datetime="2020-05-20 18:20:48" itemprop="datePublished" pubdate="">2020-05-20</time></i>
	          </div>
			
</span>
													 
		</div>
                  
			<div class="wow slideInLeft entry-summary song">
				<h2 id="前言">前言</h2>
<p>考虑这样一种问题，要求我们按照题意求答案的最大/最小值，即最优化问题。</p>
<p>如果我们可以快速构造出一种方案，并且可以对一种方案快速求解，那么我们就可以考虑使用模拟退火算法（Simulated Annealing）解决这个问题。</p>
<h2 id="算法原理">算法原理</h2>
<p>所谓模拟退火，就是在通过程序模拟一个物理上的降温过程，至于物理上的退火是什么，我也不太清楚，可以上网搜一下。</p>
<p>模拟退火大致的流程是这样子的。首先构造出一种初始方案，然后在当前方案的基础上再随机构造出另一种方案。如果新方案比当前方案优，则接受新方案，否则就以一定的概率接受新方案。照这样做很多次，最后在某个时刻停下来。</p>
<p>当然，单纯随机乱搞肯定是不行的。我们还要有一个温度，温度在退火过程中不断地下降。温度越低，我们接受较劣解的概率就越小，温度越高，我们接受较劣解的概率就越大。</p>
<p>可以打一个形象的比方，有一片凹凸不平的地面，有一个醉汉在上面走，他想走到这片地面上最低的地方。一开始他很晕，于是他有更大的可能乱走。到后面他越来越清醒，开始向较低的地方靠。最后停在一个点上。</p>
<p>之所以要这样，是因为这片地面上可能有很多个深度不同的坑，醉汉不知道当前他所在的坑深度是否是最大的，因此他也不能确定走到这个坑的底部是否最优。所以应该有一定的概率使他从这个坑爬出去到另一个坑看看，这样才能保证不拘泥于一个坑不放。这样不断地四处探索，到后期则慢慢走回一个低处，得出答案。</p>
<p>总的来说，就是防止陷入局部最优解而忽视了全局最优解，也防止走得过乱而难以寻找最优解。</p>
<p>我们可以发现，模拟退火本质上是一种随机算法，所以它不保证可以求出最优解，但是可以求出近似解。我们可以通过调节参数使解尽可能优，以便于得到更高得分数。</p>
<h2 id="算法流程">算法流程</h2>
<ol>
<li>设初始温度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>，终止温度为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，降温系数为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">\Delta T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>。</li>
<li>若<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi><mo>&lt;</mo><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&lt;T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>，终止程序。</li>
<li>设当前答案为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">Ans</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span></span></span></span>，新的答案为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>n</mi><mi>s</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">Ans0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord">0</span></span></span></span>。</li>
<li>如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>n</mi><mi>s</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">Ans0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord">0</span></span></span></span>比<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">Ans</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span></span></span></span>更优则接受<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>n</mi><mi>s</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">Ans0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord">0</span></span></span></span>，跳转到第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>6</mn></mrow><annotation encoding="application/x-tex">6</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">6</span></span></span></span>步。</li>
<li>如果<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>n</mi><mi>s</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">Ans0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord">0</span></span></span></span>不比<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>n</mi><mi>s</mi></mrow><annotation encoding="application/x-tex">Ans</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span></span></span></span>更优，则设<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi><mo>=</mo><mi mathvariant="normal">∣</mi><mi>A</mi><mi>n</mi><mi>s</mi><mo>−</mo><mi>A</mi><mi>n</mi><mi>s</mi><mn>0</mn><mi mathvariant="normal">∣</mi></mrow><annotation encoding="application/x-tex">\Delta = |Ans-Ans0|</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">∣</span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222222222222222em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord">0</span><span class="mord">∣</span></span></span></span>，那么我们接受<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>n</mi><mi>s</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">Ans0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord">0</span></span></span></span>的概率为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mfrac><mrow><mo>−</mo><mi mathvariant="normal">Δ</mi></mrow><mi>T</mi></mfrac></msup></mrow><annotation encoding="application/x-tex">e^{\frac{-\Delta}{T}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.973465em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.973465em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8720928571428571em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">Δ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>。</li>
<li><span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>乘以<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi><mi>T</mi></mrow><annotation encoding="application/x-tex">\Delta T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>。</li>
</ol>
<p>在实际操作中，我们一般使<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>0.98</mn><mo>&lt;</mo><mi mathvariant="normal">Δ</mi><mi>T</mi><mo>&lt;</mo><mn>0.999</mn></mrow><annotation encoding="application/x-tex">0.98&lt;\Delta T&lt;0.999</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68354em;vertical-align:-0.0391em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">9</span><span class="mord">8</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.72243em;vertical-align:-0.0391em;"></span><span class="mord">Δ</span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">&lt;</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span><span class="mord">.</span><span class="mord">9</span><span class="mord">9</span><span class="mord">9</span></span></span></span>，视情况而定。<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>T</mi><mo mathvariant="normal">′</mo></msup></mrow><annotation encoding="application/x-tex">T&#x27;</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.751892em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault" style="margin-right:0.13889em;">T</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.751892em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">′</span></span></span></span></span></span></span></span></span></span></span></span>为一较小的正数。</p>
<p>在第<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>5</mn></mrow><annotation encoding="application/x-tex">5</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">5</span></span></span></span>步中，我们接受较劣解的概率为<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mfrac><mrow><mo>−</mo><mi mathvariant="normal">Δ</mi></mrow><mi>T</mi></mfrac></msup></mrow><annotation encoding="application/x-tex">e^{\frac{-\Delta}{T}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.973465em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.973465em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8720928571428571em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">Δ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span></p>
<p>我们先来看<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><msup><mi>e</mi><mi>x</mi></msup></mrow><annotation encoding="application/x-tex">y=e^x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span></span></span></span>的图像。</p>
<figure data-type="image" tabindex="1"><img src="https://cdn.luogu.com.cn/upload/image_hosting/sf1p2bpe.png" alt="y=e^x" loading="lazy"></figure>
<p>首先，对于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>=</mo><msup><mi>e</mi><mi>x</mi></msup></mrow><annotation encoding="application/x-tex">y=e^x</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.625em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.664392em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.664392em;"><span style="top:-3.063em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mathdefault mtight">x</span></span></span></span></span></span></span></span></span></span></span>，当<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>x</mi><mo>≤</mo><mn>0</mn></mrow><annotation encoding="application/x-tex">x\leq0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7719400000000001em;vertical-align:-0.13597em;"></span><span class="mord mathdefault">x</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">0</span></span></span></span>时，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>y</mi><mo>≤</mo><mn>1</mn></mrow><annotation encoding="application/x-tex">y\leq1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8304100000000001em;vertical-align:-0.19444em;"></span><span class="mord mathdefault" style="margin-right:0.03588em;">y</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span><span class="mrel">≤</span><span class="mspace" style="margin-right:0.2777777777777778em;"></span></span><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>，所以<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mfrac><mrow><mo>−</mo><mi mathvariant="normal">Δ</mi></mrow><mi>T</mi></mfrac></msup></mrow><annotation encoding="application/x-tex">e^{\frac{-\Delta}{T}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.973465em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.973465em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8720928571428571em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">Δ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>一定小于等于<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mn>1</mn></mrow><annotation encoding="application/x-tex">1</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.64444em;vertical-align:0em;"></span><span class="mord">1</span></span></span></span>。我们观察式子，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>一定，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi mathvariant="normal">Δ</mi></mrow><annotation encoding="application/x-tex">\Delta</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord">Δ</span></span></span></span>越大，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>A</mi><mi>n</mi><mi>s</mi><mn>0</mn></mrow><annotation encoding="application/x-tex">Ans0</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault">A</span><span class="mord mathdefault">n</span><span class="mord mathdefault">s</span><span class="mord">0</span></span></span></span>就越劣，且<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mfrac><mrow><mo>−</mo><mi mathvariant="normal">Δ</mi></mrow><mi>T</mi></mfrac></mrow><annotation encoding="application/x-tex">\frac{-\Delta}{T}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.217331em;vertical-align:-0.345em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.872331em;"><span style="top:-2.6550000000000002em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.394em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">Δ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.345em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span>也越小，则<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mfrac><mrow><mo>−</mo><mi mathvariant="normal">Δ</mi></mrow><mi>T</mi></mfrac></msup></mrow><annotation encoding="application/x-tex">e^{\frac{-\Delta}{T}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.973465em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.973465em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8720928571428571em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">Δ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>也越小，因此，新的解越劣，我们就越难以接受它。继续观察，我们可以发现，随着<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>T</mi></mrow><annotation encoding="application/x-tex">T</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.68333em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.13889em;">T</span></span></span></span>的减小，<span class="katex"><span class="katex-mathml"><math><semantics><mrow><msup><mi>e</mi><mfrac><mrow><mo>−</mo><mi mathvariant="normal">Δ</mi></mrow><mi>T</mi></mfrac></msup></mrow><annotation encoding="application/x-tex">e^{\frac{-\Delta}{T}}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.973465em;vertical-align:0em;"></span><span class="mord"><span class="mord mathdefault">e</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.973465em;"><span style="top:-3.363em;margin-right:0.05em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mtight"><span class="mopen nulldelimiter sizing reset-size3 size6"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:0.8720928571428571em;"><span style="top:-2.656em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mathdefault mtight" style="margin-right:0.13889em;">T</span></span></span></span><span style="top:-3.2255000000000003em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line mtight" style="border-bottom-width:0.049em;"></span></span><span style="top:-3.384em;"><span class="pstrut" style="height:3em;"></span><span class="sizing reset-size3 size1 mtight"><span class="mord mtight"><span class="mord mtight">−</span><span class="mord mtight">Δ</span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.344em;"><span></span></span></span></span></span><span class="mclose nulldelimiter sizing reset-size3 size6"></span></span></span></span></span></span></span></span></span></span></span></span></span>也趋向于减小，那么温度越低，我们接受较劣解的概率也越低。这就是这个式子的意思。至于为什么是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">e</span></span></span></span>的某次方而不是其它数，我也不太清楚，可能是<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>e</mi></mrow><annotation encoding="application/x-tex">e</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.43056em;vertical-align:0em;"></span><span class="mord mathdefault">e</span></span></span></span>比较神奇吧。</p>
<h2 id="习题">习题</h2>
<h4 id="luogup1337-jsoi2004平衡点-吊打xxx"><a href="https://www.luogu.com.cn/problem/P1337">LuoguP1337 [JSOI2004]平衡点 / 吊打XXX</a></h4>
<p>需要一定的物理知识。<br>
当一个系统的总能量最小时，就最稳定（大概是这样）。<br>
所以我们只要找到时整个系统总能量最小的点。<br>
分别计算每个重物的势能，加起来即可。<br>
然后就是退火了。<br>
具体看代码。</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cmath&gt;
#include&lt;cstdlib&gt;
	using namespace std;
	const double DeltaT=0.996;//温度系数
	const double Pyl=1e-15;//终止温度
	int n=0,x[1005],y[1005],w[1005];
	double Sx=0,Sy=0,Ansx=0,Ansy=0;
double CalcEnergy(double x0,double y0)//计算
{
	double Res=0;
	for(int i=1;i&lt;=n;i++)
		Res+=sqrt((x0-x[i])*(x0-x[i])+(y0-y[i])*(y0-y[i]))*w[i];
	return Res;
}
void SA()//模拟退火
{
	double T=3000;
	double Ans=CalcEnergy(Ansx,Ansy);//计算初始答案
	while(T&gt;Pyl)
	{
		double X=Ansx+((rand()&lt;&lt;1)-RAND_MAX)*T;//构造新坐标
		double Y=Ansy+((rand()&lt;&lt;1)-RAND_MAX)*T;
		double Ans0=CalcEnergy(X,Y);
		double Delta=Ans-Ans0;
		if(Delta&gt;0)
			Ansx=X,Ansy=Y,Ans=Ans0;
		else if(rand()&lt;exp(Delta/T)*RAND_MAX)
			Ansx=X,Ansy=Y,Ans=Ans0;
		T*=DeltaT;
	}
}
int main()
{
	srand(23333333);//随机种子
	scanf(&quot;%d&quot;,&amp;n);
	for(int i=1;i&lt;=n;i++)
	{
		scanf(&quot;%d%d%d&quot;,&amp;x[i],&amp;y[i],&amp;w[i]);
		Sx+=x[i],Sy+=y[i];
	}
	Sx/=n,Sy/=n;//这样取平均更容易接近答案
	Ansx=Sx,Ansy=Sy;
	SA(),SA();//为保证正确性多退火几次
	printf(&quot;%.3lf %.3lf&quot;,Ansx,Ansy);
	return 0;
}
</code></pre>
<h4 id="luogup2538-scoi2008城堡"><a href="https://www.luogu.com.cn/problem/P2538">LuoguP2538 [SCOI2008]城堡</a></h4>
<p>城堡建得多肯定不会变差，所以<span class="katex"><span class="katex-mathml"><math><semantics><mrow><mi>k</mi></mrow><annotation encoding="application/x-tex">k</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord mathdefault" style="margin-right:0.03148em;">k</span></span></span></span>个城堡都建。<br>
然后就无脑退火了。</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cmath&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
	using namespace std;
	const int INF=1e9;
	const double DeltaT=0.997;
	const double Mn=1e-14;
	int n=0,m=0,k=0,cnt=0,AnsW=0;
	int s[55],r[55],f[55][55];
	bool c[55];//c[i]表示第i个点上是否有城堡
int Calc()
{
	int ans=0;
	for(int i=0;i&lt;=n-1;i++)
	{
		int MnDis=INF;
		for(int j=0;j&lt;=n-1;j++)
			if(c[j]) MnDis=min(MnDis,f[i][j]);
		ans=max(ans,MnDis);
	}
	return ans;
}
void SA()
{
	int Ans=AnsW;
	double T=3000;
	while(T&gt;Mn)
	{
		int a=rand()%k+1;
		int b=rand()%(cnt-k)+k+1;
		c[s[a]]=false,c[s[b]]=true,swap(s[a],s[b]);
		int Ans0=Calc();
		int Delta=Ans-Ans0;
		AnsW=min(AnsW,Ans0);
		if(Delta&gt;0)
			Ans=Ans0;
		else if(rand()&lt;exp(Delta/T)*RAND_MAX)
			Ans=Ans0;
		else swap(s[a],s[b]),c[s[a]]=true,c[s[b]]=false;
		T*=DeltaT; 
	}
}
int main()
{
	srand(2333);
	scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;k);
	for(int i=0;i&lt;=n-1;i++) scanf(&quot;%d&quot;,&amp;r[i]);
	for(int i=0;i&lt;=n-1;i++)
		for(int j=0;j&lt;=n-1;j++)
			f[i][j]=(i==j)?0:INF;
	for(int i=0;i&lt;=n-1;i++)
	{
		int w=0;
		scanf(&quot;%d&quot;,&amp;w);
		f[i][r[i]]=f[r[i]][i]=min(f[i][r[i]],w);
	}
	for(int l=0;l&lt;=n-1;l++)
		for(int i=0;i&lt;=n-1;i++)
			for(int j=0;j&lt;=n-1;j++)
				f[i][j]=min(f[i][j],f[i][l]+f[l][j]);
	for(int i=1;i&lt;=m;i++)
	{
		int x=0;
		scanf(&quot;%d&quot;,&amp;x);
		c[x]=true;
	}
	for(int i=0;i&lt;=n-1;i++)
		if(!c[i]) s[++cnt]=i;
	for(int i=1;i&lt;=k;i++) c[s[i]]=true;
	AnsW=Calc();
	if(cnt!=k) SA(),SA(),SA();
	printf(&quot;%d&quot;,AnsW);
	return 0;
}
</code></pre>
<h4 id="luogup3936-coloring"><a href="https://www.luogu.com.cn/problem/P3936">LuoguP3936 Coloring</a></h4>
<p>交换格子的颜色构造新方案，无脑退火。</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cstdlib&gt;
#include&lt;cmath&gt;
	using namespace std;
	const double DeltaT=0.999997;
	const double MnT=1e-16;
	int n=0,m=0,c=0,Ans=0,p[55];
	int d[55],Col[25][25],s[55][25][2];
	int dx[4]={0,0,1,-1};
	int dy[4]={1,-1,0,0};
int Calc(int x,int y)
{
	int Res=0;
	for(int i=0;i&lt;4;i++)
	{
		int nx=x+dx[i],ny=y+dy[i];
		if(1&lt;=nx&amp;&amp;nx&lt;=n&amp;&amp;1&lt;=ny&amp;&amp;ny&lt;=m&amp;&amp;Col[x][y]!=Col[nx][ny]) Res++;
	}
	return Res;
}
void SA()
{
	double T=5;
	while(T&gt;MnT)
	{
		int x0=rand()%(c-1)+1,y0=rand()%d[x0]+1;
		int x1=rand()%(c-x0)+x0+1,y1=rand()%d[x1]+1;
		
		int Ans0=Ans;
		Ans0-=Calc(s[x0][y0][0],s[x0][y0][1]);
		Ans0-=Calc(s[x1][y1][0],s[x1][y1][1]);
		
		swap(Col[s[x0][y0][0]][s[x0][y0][1]],Col[s[x1][y1][0]][s[x1][y1][1]]);
		Ans0+=Calc(s[x0][y0][0],s[x0][y0][1]);
		Ans0+=Calc(s[x1][y1][0],s[x1][y1][1]);
		
		swap(s[x0][y0][0],s[x1][y1][0]);
		swap(s[x0][y0][1],s[x1][y1][1]);
		
		int Delta=Ans-Ans0;
		if(Delta&gt;0) Ans=Ans0;
		else if(rand()&lt;exp(Delta/T)*RAND_MAX) Ans=Ans0;
		else
		{
			swap(s[x0][y0][0],s[x1][y1][0]);
			swap(s[x0][y0][1],s[x1][y1][1]);
			swap(Col[s[x0][y0][0]][s[x0][y0][1]],Col[s[x1][y1][0]][s[x1][y1][1]]);
		}
		T*=DeltaT;
	}
}
int main()
{
	srand(2333);
	scanf(&quot;%d%d%d&quot;,&amp;n,&amp;m,&amp;c);
	for(int i=1;i&lt;=c;i++) scanf(&quot;%d&quot;,&amp;p[i]);
	for(int i=1;i&lt;=n;i++)
		for(int j=1;j&lt;=m;j++)
		{
			Col[i][j]=0;
			for(int k=1;k&lt;=c;k++)
			{
				if(d[k]&lt;p[k]) Col[i][j]=k;
				if(Col[i][j]&amp;&amp;rand()%2) break;
			}
			d[Col[i][j]]++;
			s[Col[i][j]][d[Col[i][j]]][0]=i;
			s[Col[i][j]][d[Col[i][j]]][1]=j;
		}
	for(int i=1;i&lt;=n;i++)
		for(int j=1;j&lt;=m;j++)
			Ans+=Calc(i,j);
	Ans&gt;&gt;=1;
	if(c&gt;1)	SA();
	for(int i=1;i&lt;=n;i++)
	{
		for(int j=1;j&lt;=m;j++)
			printf(&quot;%d &quot;,Col[i][j]);
		printf(&quot;\n&quot;);
	}
	return 0;
}
</code></pre>
<h4 id="luogup2503-haoi2006均分数据"><a href="https://www.luogu.com.cn/problem/P2503">LuoguP2503 [HAOI2006]均分数据</a></h4>
<p>分组问题，每一组不一定是连续的一段。并不会做。<br>
然而如果每一组都是连续的的一段，就可以用<code>dp</code>解决。<br>
所以我们可以每次构造一个新的顺序，通过<code>dp</code>来计算。<br>
然后就可以退火了。</p>
<pre><code class="language-cpp">#include&lt;iostream&gt;
#include&lt;cstdio&gt;
#include&lt;cmath&gt;
#include&lt;cstdlib&gt;
	using namespace std;
	const double MnT=1e-7;
	const double DeltaT=0.998;
	int n=0,m=0,a[25],s[25],g[25]; 
	double PJS=0,AnsW=0,f[25][25];
	bool c[25];
double Calc()
{
	for(int i=1;i&lt;=n;i++) s[i]=s[i-1]+a[i];
	for(int i=0;i&lt;=m;i++)
		for(int j=0;j&lt;=n;j++)
			f[i][j]=1e18;
	f[0][0]=0;
	for(int i=1;i&lt;=m;i++)
		for(int j=i;j&lt;=n;j++)
			for(int k=j-1;k&gt;=i-1;k--)
			{
				double w=PJS-(s[j]-s[k]);
				f[i][j]=min(f[i][j],f[i-1][k]+w*w);
			}
	return sqrt(f[m][n]/m);
}
void SA()
{
	double Ans=Calc();
	double T=1000;
	while(T&gt;MnT)
	{
		int x0=rand()%(n-1)+1;
		int y0=rand()%(n-x0)+x0+1;
		swap(a[x0],a[y0]);
		double Ans0=Calc();
		double Delta=Ans-Ans0;
		AnsW=min(AnsW,Ans0);
		if(Delta&gt;0) Ans=Ans0;
		else if(rand()&lt;RAND_MAX*exp(Delta/T)) Ans=Ans0;
		else swap(a[x0],a[y0]);
		T*=DeltaT;
	}
}
int main()
{
	srand(233333); 
	scanf(&quot;%d%d&quot;,&amp;n,&amp;m);
	for(int i=1;i&lt;=n;i++)
		scanf(&quot;%d&quot;,&amp;a[i]),PJS+=a[i];
	PJS/=m;
	AnsW=Calc();
	if(n&gt;1) for(int i=1;i&lt;=3;i++) SA();
	printf(&quot;%.2lf&quot;,AnsW);
	return 0;
}
</code></pre>
<h2 id="总结">总结</h2>
<h4 id="如何构造新方案">如何构造新方案</h4>
<ul>
<li>对于坐标：使当前坐标偏移</li>
<li>对于序列：交换两个元素即可</li>
<li>对于表格：和序列差不多</li>
<li>其它：大都可以转化为以上三种</li>
</ul>
<h4 id="什么样的题可以模拟退火">什么样的题可以模拟退火？</h4>
<ul>
<li>最优性问题</li>
<li>数据范围较小的</li>
</ul>
<h4 id="模拟退火优点">模拟退火优点</h4>
<ul>
<li>好写</li>
<li>不用太多的思考</li>
</ul>
<h4 id="模拟退火缺点">模拟退火缺点</h4>
<ul>
<li>耗时较大</li>
<li>得分不确定</li>
<li>调参很辛苦</li>
<li>让人懒得思考</li>
</ul>

							</div>
	<div class="wow bounceInDown vt-post-tags">
 
				<a href="https://wozaixuexi.github.io/tag/PeTsm4N39/" rel="tag">模拟退火</a>	
				 
				<a href="https://wozaixuexi.github.io/tag/WNtiQtH2v/" rel="tag">算法</a>	
				 
					</div>						
<nav class="navigation3 post-navigation3" role="navigation">
		
		<div class="nav-links3">
      
		<div class="wow bounceInLeft nav-previous3"><a href="https://wozaixuexi.github.io/post/luogup1337-jsoi2004ping-heng-dian-diao-da-xxx-or-mo-ni-tui-huo/" rel="prev"> LuoguP1337 [JSOI2004]平衡点 吊打XXX | 模拟退火</a></div>
		 
		 
		<div class="wow bounceInRight nav-next3"><a href="https://wozaixuexi.github.io/post/spoj-gss8-can-you-answer-these-queries-viii-or-ping-heng-shu/" rel="next"> SPOJ GSS8 - Can you answer these queries VIII | 平衡树</a></div>
		
		</div>
	</nav>
	<div class="wow rollIn author-info" style="visibility: visible; animation-name: rollIn;">
	<div class="author-avatar pull-left"><img src="https://wozaixuexi.github.io/images/avatar.png" ></div>
 
	<div class="author-description"><div class="author-title"><div class="author-link" rel="author">wzxx</div></div>


	<p class="author-bio">qwq</p></div></div>
	
		</div>
		
 
		
</article>

<div id="marlin_lite_about_widget-2" class="wow bounceInUp widget marlin_lite_about_widget" data-wow-delay="0.1s">
		
        
		<script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script>
<script src='https://wozaixuexi.github.io/media/scripts/Valine.min.js'></script>

<div class="comment"></div>
<script>
        new Valine({
            // AV 对象来自上面引入av-min.js(老司机们不要开车➳♡゛扎心了老铁)
            av: AV, 
            el: '.comment',
            lang: 'zh-cn',
            
            
      emoticon_list: ["吐.png","喷血.png","狂汗.png","不说话.png","汗.png","坐等.png","献花.png","不高兴.png","中刀.png","害羞.png","皱眉.png","小眼睛.png","中指.png","尴尬.png","瞅你.png","想一想.png","中枪.png","得意.png","肿包.png","扇耳光.png","亲亲.png","惊喜.png","脸红.png","无所谓.png","便便.png","愤怒.png","蜡烛.png","献黄瓜.png","内伤.png","投降.png","观察.png","看不见.png","击掌.png","抠鼻.png","邪恶.png","看热闹.png","口水.png","抽烟.png","锁眉.png","装大款.png","吐舌.png","无奈.png","长草.png","赞一个.png","呲牙.png","无语.png","阴暗.png","不出所料.png","咽气.png","期待.png","高兴.png","吐血倒地.png","哭泣.png","欢呼.png","黑线.png","喜极而泣.png","喷水.png","深思.png","鼓掌.png","暗地观察.png"],
     	
      	
          
        });
    </script> 


   
  
 

		</div>

			</div>
			


<div class="tocc col l3 hide-on-med-and-down">
	
        <div class="toc-widget">
			
            <div class="toc-title"></div>
			
            <div id="toc-content">
			
			
			</div>
        </div>
    </div>


<script src="https://cdnjs.cloudflare.com/ajax/libs/tocbot/4.5.0/tocbot.min.js"></script>
<script>
    $(function () {
        tocbot.init({
            tocSelector: '#toc-content',
            contentSelector: '.entry-summary',
            headingsOffset: -($(window).height() * 0.4 - 45),
            // headingsOffset: -205,
            headingSelector: 'h2, h3, h4'
        });

        // modify the toc link href to support Chinese.
        let i = 0;
        let tocHeading = 'toc-heading-';
        $('#toc-content a').each(function () {
            $(this).attr('href', '#' + tocHeading + (++i));
        });

        // modify the heading title id to support Chinese.
        i = 0;
        $('.entry-summary').children('h2, h3, h4').each(function () {
            $(this).attr('id', tocHeading + (++i));
        });

        // Set scroll toc fixed.
        let tocHeight = parseInt($(window).height() * 0.4 - 64);
        let $tocWidget = $('.toc-widget');
        $(window).scroll(function () {
            let scroll = $(window).scrollTop();
            /* add post toc fixed. */
            if (scroll > tocHeight) {
                $tocWidget.addClass('toc-fixed');
            } else {
                $tocWidget.removeClass('toc-fixed');
            }
        });
    });
</script>										 

 
       


			</div>
		</div>

		
		 	<footer id="colophon" class="site-footer">

			<div class="container">
	
				<div class="copyright">Powered by <a href="https://github.com/getgridea/gridea" target="_blank">Gridea</a><br>Theme:   <a href="https://github.com/shanbufun/gridea-theme-pan" target="_blank" title="Pan"><span>Pan</span></a>.  by <a href="https://shanbu.fun/" target="_blank"  title="山卜方" >Shanbufun</a></div>		
			</div>
		
		</footer>

</div>

<script src="https://cdn.bootcss.com/fitvids/1.2.0/jquery.fitvids.min.js"></script>
<script type='text/javascript' src='https://wozaixuexi.github.io/media/scripts/marlin-scripts.js'></script>
 <script src="//tokinx.github.io/lately/lately.min.js"></script>
  <script>jQuery(document).ready(function(){$.lately({'target':'.lately-a,.lately-b,.lately-c'})});</script>
  <style type="text/css">a.back_to_top {
    text-decoration: none;
    position: fixed;
    bottom: 40px;
    right: 30px;
    background: #f0f0f0;
    height: 40px;
    width: 40px;
    border-radius: 50%;
    line-height: 36px;
    font-size: 18px;
    text-align: center;
    transition-duration: .5s;
    transition-propety: background-color;
    display: none;
}

a.back_to_top span {
    color: #888;
}

a.back_to_top:hover {
    cursor: pointer;
    background: #dfdfdf;
}

a.back_to_top:hover span {
    color: #555;
}

@media print, screen and (max-width: 580px) {
    .back_to_top {
        display: none !important;
    }
}



</style><a id="back_to_top" href="#" class="back_to_top"><span><i class="iconfont icon-xiangshang"></i></span>
</a>


<script>$(document).ready((function(_this) {
  return function() {
    var bt;
    bt = $('#back_to_top');
    if ($(document).width() > 480) {
      $(window).scroll(function() {
        var st;
        st = $(window).scrollTop();
        if (st > 30) {
          return bt.css('display', 'block');
        } else {
          return bt.css('display', 'none');
        }
      });
      return bt.click(function() {
        $('body,html').animate({
          scrollTop: 0
        }, 800);
        return false;
      });
    }
  };
})(this));
</script>

		<script data-no-instant>
    (function ($) {
        $.extend({
            adamsOverload: function () {
                $('.navigation:eq(0)').remove();
                $("").attr("rel" , "external");
                $("a[rel='external'],a[rel='external nofollow']").attr("target","_blank");
                $("a.vi").attr("rel" , "");
                $.viewImage({
                    'target'  : 'img',
                    'exclude' : '.vsmile-icons img,.gallery img',
                    'delay'   : 300
                });
                $.lately({
                    'target' : '.commentmetadata a,.infos time,.post-list time'
                });
                prettyPrint();
                
                $('ul.links li a').each(function(){
                    if($(this).parent().find('.bg').length==0){
                        $(this).parent().append('<!---<div class="bg" style="background-image:url(https://c3.glgoo.top/s2/favicons?domain='+$(this).attr("href")+')"></div>--->')
                    }
                });
            }
        });
    })(jQuery);
    jQuery.adamsOverload();
</script>

</body>
</html>
